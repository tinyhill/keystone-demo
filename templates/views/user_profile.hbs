{{> navbar }}
<div class="user-profile">
    <form method="post" class="form form-stacked" id="form">
        <fieldset class="group">
            <label>手机号码</label>
            <input type="text" name="mobile" id="mobile" class="input-1" value="{{user.mobile}}">
        </fieldset>
        <fieldset class="group">
            <label>真实姓名</label>
            <input type="text" name="realname" id="realname" class="input-1" maxlength="10" value="{{user.realname}}">
        </fieldset>
        <button type="submit" class="button input-1 button-primary">保存资料</button>
    </form>
</div>
{{#contentFor 'js'}}
    <script>
        (function ($) {
            $('#form').isHappy({
                fields: {
                    '#mobile': {
                        required: true,
                        message: '手机号码格式不正确',
                        test: function (val) {
                            return /^\s*1\d{10}\s*$/.test(val);
                        }
                    },
                    '#realname': {
                        required: true,
                        message: '真实姓名格式不正确',
                        test: function (val) {
                            return val.length <= 10;
                        }
                    }
                }
            });
        })(Zepto);
    </script>
{{/contentFor}}